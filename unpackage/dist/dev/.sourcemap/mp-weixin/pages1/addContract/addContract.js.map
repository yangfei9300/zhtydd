{"version":3,"sources":["uni-app:///main.js","webpack:///D:/Documents/HBuilderProjects/展汇通移动端/pages1/addContract/addContract.vue?2604","webpack:///D:/Documents/HBuilderProjects/展汇通移动端/pages1/addContract/addContract.vue?80ad","webpack:///D:/Documents/HBuilderProjects/展汇通移动端/pages1/addContract/addContract.vue?6a96","webpack:///D:/Documents/HBuilderProjects/展汇通移动端/pages1/addContract/addContract.vue?8315","uni-app:///pages1/addContract/addContract.vue","webpack:///D:/Documents/HBuilderProjects/展汇通移动端/pages1/addContract/addContract.vue?e331","webpack:///D:/Documents/HBuilderProjects/展汇通移动端/pages1/addContract/addContract.vue?6a5c"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","boothExh","serviceInput","form","boothList","selBotth","selService","selServiceDate","selBoothDate","alertBotth","aleretService","selqiye","lianxirenList","signType","zhangList","fuwuList","fuwuTypeList","money","payPlans","hetongMobans","hetongMubanIndex","userInfo","onLoad","console","onShow","methods","toSubmit","axios","then","uni","title","content","success","delta","catch","isSubmit","kuans","isKuan","jihuaMoney","toNewHetong","id","url","hetongMubanIndexClick","selHetongMuban","exhId","pageNum","pageSize","toTuidingfuwu","setTimeout","delBooths","getYudingBooth","sel","getFuwuSel","yudingfuwu","subServiceList","yudingBooth","boothlist","numAllMoney","delService","aleretServiceClick","selServiceAdd","isHave","staffservicelist","servicecategorylist","changeDateKuan","addKuan","getuInfo","selZhangClick","getDianzizhang","lianxirenChange","getQiyeList","delboothSel","alertBotthClick","addSelbotth","isHava","getZhanwei","toSign"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,oBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwH;AACxH;AAC+D;AACL;AACa;;;AAGvE;AAC4M;AAC5M,gBAAgB,oNAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,sFAAM;AACR,EAAE,+FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,0FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAwyB,CAAgB,wzBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCmQ5zB;EACAC;IACA;MACAC;QACA;QACA;QACA;QACA;MACA;MACAC;QACA;QACA;QACA;QACA;MACA;;MACAC;QACA;QACA;QACA;QAAA;QACA;QAAA;QACA;QAAA;QACA;QAAA;QACA;QAEA;QACA;QACA;UAEA;UACA;UAAA;UACA;UAAA;UACA;UAAA;UACA;QACA;MACA;;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MAEAC;MAAA;MACAC;MAAA;;MAEAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC,WACA;QACA;QACA;QAAA;QACA;QAAA;QACA;QAAA;QACA;MACA,EACA;;MACAC;MAAA;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACA;IACA;IACAC;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;EACA;EACAC;IAEAD;IACA;IACA;MACA;IACA;MACA;IACA;EAEA;EACAE;IAEAC;MAAA;MACA;QACA;MACA;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QAAA;QACA;QACA;QACA;QACA;UACA;UACA;UACA;QACA;MACA;MACA,YACAC,gDACAC;QACA;UACA;UAEAC;YACAC;YACAC;YACAC;cACA;gBACA;cACA;gBACAH;kBACAI;gBACA;cACA;YACA;UACA;QAEA;UACA;QACA;MACA,GACAC;IAGA;IACAC;MACA;MACA;MAGA;QACA;QACA;MACA;MAEA;QACA;QACA;MACA;MAEA;MACA;QACA;QACA;MACA;MACA;MACA;QACA,gCACA,sBACAC;UACAC;QACA;MACA;MACA;QACA;QACA;MACA;MACAd;MACA;MACA;QACAe;MACA;MACAf;MACA;QACA;QACA;MACA;MACA;QACA;QACA;MACA;MACA;IACA;IAEA;IACAgB;MAAA;MACA;QACAC;MACA;MACA,YACAb,uDACAC;QACA;UACA;UACAC;YACAY;UACA;QACA;UACA;QACA;MACA,GACAP;IACA;IACA;IACAQ;MACA;IACA;IACA;IACAC;MAAA;MACA;QACAC;QACAC;QACAC;MACA;MACA,YACAnB,qDACAC;QACA;UACA;QACA;UACA;QACA;MACA,GACAM;IACA;IACA;IACAa;MAAA;MACA;QACA;MACA;MACA,YACApB,2DACAC;QACA;UACA;UACAoB;YACA;UACA;QACA;UACA;QACA;MACA,GACAd;IACA;IACA;IACAe;MAAA;MACA;MACA;QACA;QACA;QACA;UACA;QACA;MACA;MACA,YACAtB,kDACAC;QACA;UACA;UACAoB;YACA;UACA;QACA;UACA;QACA;MACA,GACAd;IACA;IAEA;IACAgB;MAAA;MACA;MACA;QACA;QACA;QACA;QACA;MACA;MACA,YACAvB,6CACAC;QACA;UACAL;UACA;UACA;UACA;UACA;YACA;cACA4B;YACA;UACA;UACA;UACA;QACA;UACA;QACA;MACA,GACAjB;IACA;IACA;IACAkB;MAAA;MACA;MAEA;QACA;QACA;QACA;QACA;MACA;MAEA,YACAzB,gDACAC;QACA;UACAL;UACA;UACA;QACA;UACA;QACA;MACA,GACAW;IACA;IACA;IACAmB;MAAA;MACA;MACA;MACA;MACA;MACA;MACA;QACA;QACA;QACA;QACA;QACA;MACA;MACAC;MACA,YACA3B,sDACAC;QACA;UACA;UACAoB;YACA;UACA;QACA;UACA;QACA;MACA,GACAd;IACA;IACA;IACAqB;MAAA;MACA;MACA;MACA;MACAC;MACA;MACA;MACA;QACA;QACA;QACA;UACA;QACA;MACA;MACA,YACA7B,+CACAC;QACA;UACA;UACAoB;YACA;UACA;QACA;UACA;QACA;MACA,GACAd;IACA;IAEA;IACAuB;MACA;MACA;MACA;MACA;MACA;MACA;QACAxC;MACA;MACA;QACAA;MACA;MACAA;MACA;IACA;IACA;IACAyC;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;QACA;UACAC;QACA;MACA;MACA;QACA;QACA;MACA;MACAvD;MACA;MACAiB;MACA;MACA;IACA;IACA;IACAuC;MAAA;MACA;QACA;QACA;MACA;MACA;QACA;QACA;QACA;QACA;MACA;MACA,YACAnC,iDACAC;QACA;UACA;QACA;UACA;QACA;MACA,GACAM;IACA;IACA;IACA6B;MAAA;MACA;QACA;QACA;QACA;MACA;MACA,YACApC,oDACAC;QACA;UACA;QACA;UACA;QACA;MACA,GACAM;IACA;IACA8B;MACA;IACA;IACA;IACAC;MACA;QACA;QACA;QAAA;QACA;QAAA;QACA;QAAA;QACA;MACA;;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;QACA;MACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MAAA;MACA;QACA;QACA;QACA;MACA;MACA,YACAzC,yCACAC;QACA;UACA;UACA;YACA;UACA;QACA;UACA;QACA;MACA,GACAM;IACA;IACA;IACAmC;MACA;MACA;MACA;IACA;IACA;IACAC;MAAA;MACA;QACA;QACA;QACA;MACA;MACA,YACA3C,qDACAC;QACA;UACA;QACA;UACA;QACA;MACA,GACAM;IACA;IACA;IACAqC;MACA;IAEA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;QACA;UACAC;QACA;MACA;MACA;QACA;QACA;MACA;MACArE;MACA;IAEA;IACA;IACAsE;MAAA;MACA;MACA;QACA;QACA;MACA;MACA3E;MACA,YACA2B,gDACAC;QACA;UACA;UACA;YACA;YACA;UACA;QACA;UACA;QACA;MACA,GACAM;IACA;IACA;IACA0C;MACA;MACA/C;QACAY;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC91BA;AAAA;AAAA;AAAA;AAAwoC,CAAgB,2nCAAG,EAAC,C;;;;;;;;;;;ACA5pC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages1/addContract/addContract.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages1/addContract/addContract.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./addContract.vue?vue&type=template&id=b08b85fa&\"\nvar renderjs\nimport script from \"./addContract.vue?vue&type=script&lang=js&\"\nexport * from \"./addContract.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addContract.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\idea\\\\HBuilderX.4.26.2024082213-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages1/addContract/addContract.vue\"\nexport default component.exports","export * from \"-!F:\\\\idea\\\\HBuilderX.4.26.2024082213-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\idea\\\\HBuilderX.4.26.2024082213-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!F:\\\\idea\\\\HBuilderX.4.26.2024082213-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\idea\\\\HBuilderX.4.26.2024082213-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!F:\\\\idea\\\\HBuilderX.4.26.2024082213-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\idea\\\\HBuilderX.4.26.2024082213-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addContract.vue?vue&type=template&id=b08b85fa&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!F:\\\\idea\\\\HBuilderX.4.26.2024082213-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\idea\\\\HBuilderX.4.26.2024082213-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!F:\\\\idea\\\\HBuilderX.4.26.2024082213-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\idea\\\\HBuilderX.4.26.2024082213-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\idea\\\\HBuilderX.4.26.2024082213-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addContract.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\idea\\\\HBuilderX.4.26.2024082213-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\idea\\\\HBuilderX.4.26.2024082213-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!F:\\\\idea\\\\HBuilderX.4.26.2024082213-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\idea\\\\HBuilderX.4.26.2024082213-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\idea\\\\HBuilderX.4.26.2024082213-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addContract.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"colonn\">\r\n\t\t\t<view class=\"colonn background1 \">\r\n\t\t\t\t<view class=\"h-20\"></view>\r\n\t\t\t\t<view class=\"roww center_center\">\r\n\t\t\t\t\t<view>服务列表</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"h-20\"></view>\r\n\t\t\t\t<block v-for=\"(item,index) in selBoothDate\">\r\n\t\t\t\t\t<view class=\"roww border_bottom p-all-20\"\r\n\t\t\t\t\tv-if=\"item.params.outStatus==0\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<view class=\"w-336\" style=\"text-align: left;\">展位号：{{item.boothNo}}</view>\r\n\t\t\t\t\t\t<view class=\"w-236\" style=\"text-align: center;\">{{item.rmbPrice}}元</view>\r\n\t\t\t\t\t\t<view class=\"w-136\" style=\"color: red;text-align: right;\" @click.stop=\"delBooths(item)\">删除\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\r\n\t\t\t\t<view class=\"roww border_bottom p-all-20\" v-for=\"(item,index) in selServiceDate\">\r\n\t\t\t\t\t<view class=\"w-336\">服务：{{item.params.projectName}}</view>\r\n\t\t\t\t\t<view class=\"w-236\" style=\"text-align: center;\">{{item.params.rmbPrice}}元</view>\r\n\t\t\t\t\t<view class=\"w-136\" style=\"color: red;text-align: right;\" @click.stop=\"toTuidingfuwu(item)\">删除\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"roww border_bottom p-all-20\">\r\n\t\t\t\t\t<view>合计</view>\r\n\t\t\t\t\t<view class=\"allline\"></view>\r\n\t\t\t\t\t<view>{{money}}元</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"roww rowsa m-top-30\">\r\n\t\t\t\t<view style=\"color: blue;\" @click.stop=\"alertBotthClick\">+预定展位</view>\r\n\t\t\t\t<view style=\"color: blue;\" @click.stop=\"aleretServiceClick\">预定服务</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"roww center_center\">\r\n\t\t\t\t<view class=\"\" style=\"font-size: 30rpx;font-weight: bold;padding:30rpx 30rpx 15rpx 30rpx;\">企业信息</view>\r\n\t\t\t\t<view class=\"allline\"></view>\r\n\t\t\t\t<view>刷新</view>\r\n\t\t\t\t<view class=\"w-30\"></view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"roww center_center border_bottom p-all-30\">\r\n\t\t\t\t<view>企业名称</view>\r\n\t\t\t\t<view class=\"w-20\"></view>\r\n\t\t\t\t<input disabled v-model=\"form.qiyeName\" class=\"allline\" placeholder=\"请输入企业名称\" />\r\n\t\t\t</view>\r\n\r\n\t\t\t<picker :range=\"lianxirenList\" range-key=\"contactName\" @change=\"lianxirenChange\">\r\n\t\t\t\t<view class=\"roww center_center border_bottom p-all-30\">\r\n\t\t\t\t\t<view>企业联系人</view>\r\n\t\t\t\t\t<view class=\"w-20\"></view>\r\n\t\t\t\t\t<view v-if=\"form.contactsName\">{{form.contactsName}} ▼ </view>\r\n\t\t\t\t\t<view v-else>请选择 ▼ </view>\r\n\t\t\t\t\t<view class=\"allline\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t</picker>\r\n\r\n\t\t\t<view class=\"roww center_center border_bottom p-all-30\">\r\n\t\t\t\t<view>负责人电话</view>\r\n\t\t\t\t<view class=\"w-20\"></view>\r\n\t\t\t\t<input disabled v-model=\"form.contactsTel\" class=\"allline\" placeholder=\"请输入联系电话\" />\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- <view class=\"roww center_center border_bottom p-all-30\">\r\n\t\t\t\t<view>负责人签名</view>\r\n\t\t\t\t<view class=\"w-20\"></view>\r\n\t\t\t\t<image @click.stop=\"toSign(1)\" v-if=\"form.contactsSign!=''\"\r\n\t\t\t\t :src=\"form.contactsSign\" class=\"w-200 \"\r\n\t\t\t\t\tmode=\"widthFix\"></image>\r\n\r\n\t\t\t\t<view style=\"color: red;\" @click.stop=\"toSign(1)\" v-else class=\"fw-700\">点击签字</view>\r\n\r\n\t\t\t\t<view class=\"allline\"></view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"roww center_center border_bottom p-all-30\">\r\n\t\t\t\t<view>点击选择电子章</view>\r\n\t\t\t\t<view class=\"w-20\"></view>\r\n\t\t\t\t<block v-for=\"(item,index) in zhangList\">\r\n\r\n\t\t\t\t\t<image v-if=\"form.zhangId==item.id\" :src=\"item.imagePath\" class=\"w-150 selimg br-20 h-150\"></image>\r\n\r\n\t\t\t\t\t<image @click.stop=\"selZhangClick(item.id)\" v-else :src=\"item.imagePath\" class=\"w-150 h-150 br-20\">\r\n\t\t\t\t\t</image>\r\n\r\n\t\t\t\t</block>\r\n\t\t\t\t<view class=\"allline\"></view>\r\n\t\t\t</view> -->\r\n\r\n\t\t\t<view class=\"\" style=\"font-size: 30rpx;font-weight: bold;padding:30rpx 30rpx 15rpx 30rpx;\">业务员信息</view>\r\n\r\n\t\t\t<view class=\"roww center_center border_bottom p-all-30\">\r\n\t\t\t\t<view>部门</view>\r\n\t\t\t\t<view class=\"w-20\"></view>\r\n\t\t\t\t<input disabled v-model=\"userInfo.dept.deptName\" class=\"allline\" placeholder=\"请输入企业名称\" />\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"roww center_center border_bottom p-all-30\">\r\n\t\t\t\t<view>业务员姓名</view>\r\n\t\t\t\t<view class=\"w-20\"></view>\r\n\t\t\t\t<input class=\"allline\" disabled v-model=\"form.yewuname\" placeholder=\"请输入企业名称\" />\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"roww center_center border_bottom p-all-30\">\r\n\t\t\t\t<view>业务员电话</view>\r\n\t\t\t\t<view class=\"w-20\"></view>\r\n\t\t\t\t<input class=\"allline\" disabled v-model=\"form.yewutel\" placeholder=\"请输入企业名称\" />\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- <view class=\"roww center_center border_bottom p-all-30\">\r\n\t\t\t\t<view>业务员签名</view>\r\n\t\t\t\t<view class=\"w-20\"></view>\r\n\r\n\t\t\t\t<image @click.stop=\"toSign(2)\" v-if=\"form.yewuyuanSign!=''\" :src=\"form.yewuyuanSign\" class=\"w-200 \"\r\n\t\t\t\t\tmode=\"widthFix\"></image>\r\n\r\n\t\t\t\t<view style=\"color: red;\" @click.stop=\"toSign(2)\" v-else class=\"fw-700\">点击签字</view>\r\n\t\t\t\t<view class=\"allline\"></view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"roww center_center border_bottom p-all-30\">\r\n\t\t\t\t<view>电子章</view>\r\n\t\t\t\t<view class=\"w-20\"></view>\r\n\t\t\t\t<image src=\"../../static/json/logo.png\" class=\"w-150 h-150\"></image>\r\n\t\t\t\t<view class=\"allline\"></view>\r\n\t\t\t</view> -->\r\n\r\n\t\t\t<view class=\"\" \r\n\t\t\tstyle=\"font-size: 30rpx;font-weight: bold;padding:30rpx 30rpx 15rpx 30rpx;\">打款计划</view>\r\n\r\n\t\t\t<block v-for=\"(item,index) in payPlans\">\r\n\t\t\t\t<view class=\"roww center_center border_bottom p-all-30\">\r\n\t\t\t\t\t<view>第{{index+1}}笔打款金额</view>\r\n\t\t\t\t\t<view class=\"w-20\"></view>\r\n\t\t\t\t\t<input class=\"allline\" \r\n\t\t\t\t\tv-model=\"payPlans[index].payAmount\" \r\n\t\t\t\t\ttype=\"digit\" placeholder=\"请输入金额\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"roww center_center border_bottom p-all-30\">\r\n\t\t\t\t\t<view>第{{index+1}}笔打款时间</view>\r\n\t\t\t\t\t<view class=\"w-20\"></view>\r\n\t\t\t\t\t<picker mode=\"date\" @change=\"changeDateKuan($event,index)\">\r\n\t\t\t\t\t\t<block v-if=\"item.planTime!=''\">{{item.planTime}}</block>\r\n\t\t\t\t\t\t<block v-else>请选择</block>\r\n\t\t\t\t\t</picker>\r\n\t\t\t\t\t<view class=\"allline\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view style=\"border-bottom: 1px solid red;margin-bottom: 20rpx;\"></view>\r\n\t\t\t</block>\r\n\r\n\t\t\t<view class=\"roww center_center m-top-30 m-bottom-30\">\r\n\t\t\t\t<view style=\"color: blue;\" @click.stop=\"addKuan()\">+添加计划</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"\" style=\"font-size: 30rpx;font-weight: bold;padding:30rpx 30rpx 15rpx 30rpx;\">合同模版</view>\r\n\t\t\t\r\n\t\t\t<view class=\"colonn\">\r\n\t\t\t\t<view class=\"roww  border_bottom\" style=\"padding:10rpx 30rpx 30rpx 30rpx;\"\r\n\t\t\t\tv-for=\"(item,index) in hetongMobans\"\r\n\t\t\t\t@click.stop=\"hetongMubanIndexClick(index)\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<view>{{index+1}}.</view>\r\n\t\t\t\t\t<view>{{item.name}}</view>\r\n\t\t\t\t\t<view class=\"allline\"></view>\r\n\t\t\t\t\t<image src=\"/static/sel.png\" v-if=\"hetongMubanIndex==index\" \r\n\t\t\t\t\t class=\"w-40 h-40\"></image>\r\n\t\t\t\t\t<image v-else src=\"/static/nosel.png\" \r\n\t\t\t\t\tclass=\"w-40 h-40\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"roww center_center\">\r\n\t\t\t\t<view class=\"btrn1\" @click.stop=\"toSubmit\">提交合同</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"h-30\"></view>\r\n\r\n\t\t</view>\r\n\r\n\r\n\t\t<!-- 搜索展位 -->\r\n\t\t<view class=\"huuibeijing\" v-if=\"alertBotth\" style=\"z-index: 1000;\">\r\n\t\t\t<view class=\"sshtong colonn\">\r\n\t\t\t\t<view class=\"roww  rowsb h-100\" style=\"line-height: 100rpx;\">\r\n\t\t\t\t\t<view class=\"m-left-30 yincang1\">关闭</view>\r\n\t\t\t\t\t<view>选择展位</view>\r\n\t\t\t\t\t<view class=\"m-right-30\" @click.stop=\"alertBotthClick\">关闭</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"roww border_bottom center_center h-100 \"\r\n\t\t\t\t\tstyle=\"padding:30rpx 20rpx;background-color: #f5f5f5;\">\r\n\t\t\t\t\t<input v-model=\"boothExh.boothNo\" class=\"allline\" placeholder=\"请输入展位\" />\r\n\t\t\t\t\t<view class=\"sousuobtn\" @click.stop=\"getZhanwei\">搜索</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"h-30\"></view>\r\n\t\t\t\t<scroll-view class=\"h-620\" scroll-y>\r\n\t\t\t\t\t<view class=\"colonn\" style=\"text-align: center;\">\r\n\t\t\t\t\t\t<view class=\"roww rowsa\">\r\n\t\t\t\t\t\t\t<view class=\"allline\">展馆名</view>\r\n\t\t\t\t\t\t\t<view class=\"allline\">展位号</view>\r\n\t\t\t\t\t\t\t<view class=\"allline\">价格</view>\r\n\t\t\t\t\t\t\t<view class=\"allline\">操作</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"roww rowsa m-top-30 m-bottom-30\" v-for=\"(item,index) in boothList\">\r\n\t\t\t\t\t\t\t<view class=\"allline\">{{item.params.hallName}}</view>\r\n\t\t\t\t\t\t\t<view class=\"allline\">{{item.boothNo}}</view>\r\n\t\t\t\t\t\t\t<view class=\"allline\">{{item.rmbPrice}}</view>\r\n\t\t\t\t\t\t\t<view class=\"allline fw-700\" style=\"color: red;\" @click.stop=\"yudingBooth(item)\">添加</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 搜索服务 -->\r\n\t\t<view class=\"huuibeijing\" v-if=\"aleretService\" style=\"z-index: 1000;\">\r\n\t\t\t<view class=\"sshtong colonn\">\r\n\t\t\t\t<view class=\"roww  rowsb h-100\" style=\"line-height: 100rpx;\">\r\n\t\t\t\t\t<view class=\"m-left-30 yincang1\">关闭</view>\r\n\t\t\t\t\t<view>选择服务</view>\r\n\t\t\t\t\t<view class=\"m-right-30\" @click.stop=\"aleretServiceClick\">关闭</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"roww border_bottom center_center h-100 \"\r\n\t\t\t\t\tstyle=\"padding:30rpx 20rpx;background-color: #f5f5f5;\">\r\n\t\t\t\t\t<input v-model=\"serviceInput.projectName\" class=\"allline\" placeholder=\"请输入服务名称\" />\r\n\t\t\t\t\t<view class=\"sousuobtn\" @click.stop=\"staffservicelist\">搜索</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"h-30\"></view>\r\n\t\t\t\t<scroll-view class=\"h-620\" scroll-y>\r\n\t\t\t\t\t<view class=\"colonn\" style=\"text-align: center;\">\r\n\t\t\t\t\t\t<view class=\"roww rowsa\">\r\n\t\t\t\t\t\t\t<view class=\"allline\">服务名</view>\r\n\t\t\t\t\t\t\t<view class=\"allline\">分类</view>\r\n\t\t\t\t\t\t\t<view class=\"allline\">价格</view>\r\n\t\t\t\t\t\t\t<view class=\"allline\">操作</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"roww rowsa m-top-30 m-bottom-30\" \r\n\t\t\t\t\t\tv-for=\"(item,index) in fuwuList\">\r\n\t\t\t\t\t\t\t<view class=\"allline w-400\">{{item.projectName}}</view>\r\n\t\t\t\t\t\t\t<view class=\"allline\">{{item.params.categoryName}}</view>\r\n\t\t\t\t\t\t\t<view class=\"allline\">{{item.rmbPrice}}</view>\r\n\t\t\t\t\t\t\t<!-- <view class=\"allline fw-700\" style=\"color: red;\"\r\n\t\t\t\t\t\t\t @click.stop=\"selServiceAdd(item)\">添加</view> -->\r\n\t\t\t\t\t\t\t <view class=\"allline fw-700\" style=\"color: red;\"\r\n\t\t\t\t\t\t\t @click.stop=\"selServiceAdd(item)\" >添加</view>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tboothExh: {\r\n\t\t\t\t\t'pageSize': '10',\r\n\t\t\t\t\t'pageNum': '1',\r\n\t\t\t\t\t'boothNo': '',\r\n\t\t\t\t\t'exhId': \"\",\r\n\t\t\t\t},\r\n\t\t\t\tserviceInput: {\r\n\t\t\t\t\t'pageSize': '10',\r\n\t\t\t\t\t'pageNum': '1',\r\n\t\t\t\t\t'exhId': \"\",\r\n\t\t\t\t\t'projectName': '', //服务名称\r\n\t\t\t\t},\r\n\t\t\t\tform: {\r\n\t\t\t\t\t'qiyeName': '',\r\n\t\t\t\t\t'contactsId': '',\r\n\t\t\t\t\t'contactsName': '', //联系人名\r\n\t\t\t\t\t'contactsTel': '', //联系人电话\r\n\t\t\t\t\t'contactsSign': '', //联系人签字\r\n\t\t\t\t\t'yewuyuanSign': '', //业务员签字\r\n\t\t\t\t\t'zhangId': '',\r\n\r\n\t\t\t\t\t'yewuname': '',\r\n\t\t\t\t\t'yewutel': '',\r\n\t\t\t\t\t'kuan': [{\r\n\r\n\t\t\t\t\t\t\"index\": 0,\r\n\t\t\t\t\t\t\"planName\": \"\", //备注\r\n\t\t\t\t\t\t\"payAmount\": \"\", //付款金额\r\n\t\t\t\t\t\t\"planPercent\": \"100\", //百分比\r\n\t\t\t\t\t\t\"planTime\": \"\", //付款时间\r\n\t\t\t\t\t}]\r\n\t\t\t\t},\r\n\t\t\t\tboothList: [], //展位列表\r\n\t\t\t\tselBotth: [], //选择的展位列表\r\n\t\t\t\tselService: [], //选中的服务列表\r\n\t\t\t\tselServiceDate: [], //预定的服务数据（从后台拿的）\r\n\t\t\t\tselBoothDate: [], //预定的展位数据\r\n\t\t\t\talertBotth: false,\r\n\t\t\t\taleretService: false,\r\n\r\n\t\t\t\tselqiye: null, //从上页传来得\r\n\t\t\t\tlianxirenList: [], //获取企业联系人\r\n\r\n\t\t\t\tsignType: 1, //1是企业2.业务员\r\n\t\t\t\tzhangList: [], //章列表\r\n\t\t\t\tfuwuList: [], //服务列表  \r\n\t\t\t\tfuwuTypeList: [], //服务分类列表\r\n\t\t\t\tmoney: 0,\r\n\t\t\t\tpayPlans: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"index\": 0,\r\n\t\t\t\t\t\t\"planName\": \"\", //备注\r\n\t\t\t\t\t\t\"payAmount\": \"\", //付款金额\r\n\t\t\t\t\t\t\"planPercent\": \"100\", //百分比\r\n\t\t\t\t\t\t\"planTime\": \"\", //付款时间\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\thetongMobans:[],//合同模版\r\n\t\t\t\thetongMubanIndex:-1,\r\n\t\t\t\tuserInfo:{},\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.userInfo=uni.getStorageSync(\"userInfo\")\r\n\t\t\tthis.selqiye = uni.getStorageSync(\"selqiye\");\r\n\t\t\tthis.form.qiyeName = this.selqiye.params.exhibitorName;\r\n\t\t\tconsole.log(\"aa\", this.form);\r\n\t\t\tthis.getQiyeList();\r\n\t\t\tthis.getDianzizhang();\r\n\t\t\tthis.getuInfo();\r\n\t\t\tthis.staffservicelist();\r\n\t\t\tthis.servicecategorylist();\r\n\r\n\t\t\tthis.getFuwuSel();\r\n\t\t\tthis.getYudingBooth();\r\n\t\t\tthis.selHetongMuban();\r\n\t\t},\r\n\t\tonShow() {\r\n\r\n\t\t\tconsole.log(\"aaa\", this.signType, )\r\n\t\t\t// 查询\r\n\t\t\tif (this.signType == 1) {\r\n\t\t\t\tthis.form.contactsSign = uni.getStorageSync(\"img\")\r\n\t\t\t} else if (this.signType == 2) {\r\n\t\t\t\tthis.form.yewuyuanSign = uni.getStorageSync(\"img\")\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t\r\n\t\t\ttoSubmit() {\r\n\t\t\t\tif(!this.isSubmit()){\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\t\"exhId\":uni.getStorageSync(\"exhId\"),\r\n\t\t\t\t\t\"contractName\": \"展商合同\",\r\n\t\t\t\t\t\"exhibitorId\": this.selqiye.exhibitorId,\r\n\t\t\t\t\t\"contactId\": this.form.contactsId,\r\n\t\t\t\t\t\"customerName\": this.form.qiyeName,\r\n\t\t\t\t\t\"customerAddress\": this.selqiye.params.exhibitorAddress,\r\n\t\t\t\t\t\"customerPerson\": this.form.contactsName,\r\n\t\t\t\t\t\"customerTel\": this.form.contactsTel,\r\n\t\t\t\t\t\"customerFax\": this.selqiye.exhibitorFax,\r\n\t\t\t\t\t\"registerCost\": \"0\", //注册费\r\n\t\t\t\t\t\"totalRmb\": this.money,\r\n\t\t\t\t\t\"afterDiscount\":this.money, \r\n\t\t\t\t\t\"templateId\": this.hetongMobans[this.hetongMubanIndex].id,\r\n\t\t\t\t\t\"params\": {\r\n\t\t\t\t\t\t'booths': this.selBoothDate,\r\n\t\t\t\t\t\t'services': this.selServiceDate,\r\n\t\t\t\t\t\t'payPlans': this.payPlans\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.$axios\r\n\t\t\t\t\t.axios('POST', this.$paths.contractcreate, data)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\tthis.$tools.showToast(\"合同提交完成\");\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\t\tcontent: '是否要生成合同文件',\r\n\t\t\t\t\t\t\t\tsuccess:  (res1)=> {\r\n\t\t\t\t\t\t\t\t\tif (res1.confirm) {\r\n\t\t\t\t\t\t\t\t\t\tthis.toNewHetong(res);\r\n\t\t\t\t\t\t\t\t\t} else if (res1.cancel) {\r\n\t\t\t\t\t\t\t\t\t\tuni.navigateBack({  \r\n\t\t\t\t\t\t\t\t\t\t\tdelta:1\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$tools.showToast(res.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {});\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tisSubmit() {\r\n\t\t\t\tvar selBotth = this.selBoothDate;\r\n\t\t\t\tvar selService = this.selServiceDate;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif (selBotth.length <= 0 && selService.length <= 0) {\r\n\t\t\t\t\tthis.$tools.showToast(\"展位或者服务任选一项才能提交\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(this.form.contactsId==\"\"){\r\n\t\t\t\t\tthis.$tools.showToast(\"请选择企业联系人\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tvar kuans = this.payPlans;\r\n\t\t\t\tif (kuans.length <= 0) {\r\n\t\t\t\t\tthis.$tools.showToast(\"至少添加一项打款计划\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tvar isKuan=true;\r\n\t\t\t\tfor(var a=0;a<kuans.length;a++){\r\n\t\t\t\t\tif(kuans[a].payAmount==''\r\n\t\t\t\t\t||!kuans[a].planTime\r\n\t\t\t\t\t||kuans[a].planTime==\"\"){\r\n\t\t\t\t\t\tisKuan=false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(!isKuan){\r\n\t\t\t\t\tthis.$tools.showToast(\"打款计划未完善\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(\"aaaa\",kuans)\r\n\t\t\t\tvar jihuaMoney = 0;\r\n\t\t\t\tfor (var a = 0; a < kuans.length; a++) {\r\n\t\t\t\t\tjihuaMoney = jihuaMoney + parseFloat(kuans[a].payAmount);\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(\"--\",jihuaMoney,this.money);\r\n\t\t\t\tif (jihuaMoney != this.money) {\r\n\t\t\t\t\tthis.$tools.showToast(\"计划打款总金额不对\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif(this.hetongMubanIndex<0){\r\n\t\t\t\t\tthis.$tools.showToast(\"请选择合同模版\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 生成合同文件\r\n\t\t\ttoNewHetong(res){\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\tid:res.contractId+\"\"\r\n\t\t\t\t}\r\n\t\t\t\tthis.$axios\r\n\t\t\t\t\t.axios('post', this.$paths.staffcontractgenerate, data)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\tthis.$tools.showToast(\"文件生成成功\");\r\n\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\turl:\"/pages2/yewuyuanQianzi/yewuyuanQianzi?id=\"+data.id\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$tools.showToast(res.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {});\r\n\t\t\t},\r\n\t\t\t// 提交\r\n\t\t\thetongMubanIndexClick(index){\r\n\t\t\t\tthis.hetongMubanIndex=index;\r\n\t\t\t},\r\n\t\t\t// 查询合同模版\r\n\t\t\tselHetongMuban() {\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\texhId: uni.getStorageSync(\"exhId\"),\r\n\t\t\t\t\tpageNum: \"1\",\r\n\t\t\t\t\tpageSize: \"1000\",\r\n\t\t\t\t}\r\n\t\t\t\tthis.$axios\r\n\t\t\t\t\t.axios('get', this.$paths.contracttemplatelist, data)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\tthis.hetongMobans = res.rows;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$tools.showToast(res.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {});\r\n\t\t\t},\r\n\t\t\t// 退订服务  \r\n\t\t\ttoTuidingfuwu(item) {\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\t'ids': item.id\r\n\t\t\t\t}\r\n\t\t\t\tthis.$axios\r\n\t\t\t\t\t.axios('POST', this.$paths.staffservicedel + item.id, data)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\tthis.$tools.showToast(\"退订成功\");\r\n\t\t\t\t\t\t\tsetTimeout(res => {\r\n\t\t\t\t\t\t\t\tthis.getFuwuSel();\r\n\t\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$tools.showToast(res.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {});\r\n\t\t\t},\r\n\t\t\t// 删除展位\r\n\t\t\tdelBooths(item) {\r\n\t\t\t\tvar selqiye = uni.getStorageSync(\"selqiye\");\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\t'exhId': uni.getStorageSync(\"exhId\"),\r\n\t\t\t\t\t'exhibitorId': selqiye.exhibitorId,\r\n\t\t\t\t\t'params': {\r\n\t\t\t\t\t\t'booths': item.id\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.$axios\r\n\t\t\t\t\t.axios('POST', this.$paths.boothreturnbooth, data)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\tthis.$tools.showToast(\"退订成功\");\r\n\t\t\t\t\t\t\tsetTimeout(res => {\r\n\t\t\t\t\t\t\t\tthis.getYudingBooth();\r\n\t\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$tools.showToast(res.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {});\r\n\t\t\t},\r\n\r\n\t\t\t// 获取预定的展位\r\n\t\t\tgetYudingBooth() {\r\n\t\t\t\tvar selqiye = uni.getStorageSync(\"selqiye\");\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\t'pageSize': '300',\r\n\t\t\t\t\t'pageNum': '1',\r\n\t\t\t\t\t'exhId': uni.getStorageSync(\"exhId\"),\r\n\t\t\t\t\t'exhibitorId': selqiye.exhibitorId,\r\n\t\t\t\t}\r\n\t\t\t\tthis.$axios\r\n\t\t\t\t\t.axios('GET', this.$paths.boothlistbuy, data)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\tconsole.log(\"展位列表选择\", res);\r\n\t\t\t\t\t\t\tthis.selBoothDate = res.rows;\r\n\t\t\t\t\t\t\tvar sel=[];\r\n\t\t\t\t\t\t\tvar selBoothDate=res.rows;\r\n\t\t\t\t\t\t\tfor(var a=0;a<selBoothDate.length;a++){\r\n\t\t\t\t\t\t\t\tif(selBoothDate[a].params.outStatus=='0'){\r\n\t\t\t\t\t\t\t\t\tsel.push(selBoothDate[a]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.selBoothDate=sel;\r\n\t\t\t\t\t\t\tthis.numAllMoney();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$tools.showToast(res.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {});\r\n\t\t\t},\r\n\t\t\t// 获取预定的服务列表\r\n\t\t\tgetFuwuSel() {\r\n\t\t\t\tvar selqiye = uni.getStorageSync(\"selqiye\");\r\n\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\t'pageSize': '300',\r\n\t\t\t\t\t'pageNum': '1',\r\n\t\t\t\t\t'exhId': uni.getStorageSync(\"exhId\"),\r\n\t\t\t\t\t'exhibitorId': selqiye.exhibitorId,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.$axios\r\n\t\t\t\t\t.axios('GET', this.$paths.servicelistbook, data)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\tconsole.log(\"服务选择\", res);\r\n\t\t\t\t\t\t\tthis.selServiceDate = res.rows;\r\n\t\t\t\t\t\t\tthis.numAllMoney();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$tools.showToast(res.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {});\r\n\t\t\t},\r\n\t\t\t// 预定服务\r\n\t\t\tyudingfuwu(serviceInfo) {\r\n\t\t\t\tvar selService = this.selService;\r\n\t\t\t\tvar subServiceList = [];\r\n\t\t\t\tvar selqiye = uni.getStorageSync(\"selqiye\");\r\n\t\t\t\tvar exhId = uni.getStorageSync(\"exhId\");\r\n\t\t\t\tvar userInfo = uni.getStorageSync(\"userInfo\")\r\n\t\t\t\tvar obg = {\r\n\t\t\t\t\t\"exhibitorId\": selqiye.exhibitorId,\r\n\t\t\t\t\t\"serviceId\": serviceInfo.id,\r\n\t\t\t\t\t\"reservationNum\": 1,\r\n\t\t\t\t\t\"exhId\": exhId,\r\n\t\t\t\t\t\"userId\": userInfo.userId\r\n\t\t\t\t}\r\n\t\t\t\tsubServiceList.push(obg);\r\n\t\t\t\tthis.$axios\r\n\t\t\t\t\t.axios('POST', this.$paths.servicebuy, subServiceList)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\tthis.$tools.showToast(\"预定成功\");\r\n\t\t\t\t\t\t\tsetTimeout(res => {\r\n\t\t\t\t\t\t\t\tthis.getFuwuSel();\r\n\t\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$tools.showToast(res.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {});\r\n\t\t\t},\r\n\t\t\t// 预定展位 \r\n\t\t\tyudingBooth(item) {\r\n\t\t\t\tvar selbooth = this.selBotth;\r\n\t\t\t\tvar boothlist = [];\r\n\t\t\t\t// for (var a = 0; a < selbooth.length; a++) {\r\n\t\t\t\tboothlist.push(item.id);\r\n\t\t\t\t// }\r\n\t\t\t\tvar selqiye = uni.getStorageSync(\"selqiye\");\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\t\"id\": selqiye.id,\r\n\t\t\t\t\t\"exhibitorId\": selqiye.exhibitorId,\r\n\t\t\t\t\t\"params\": {\r\n\t\t\t\t\t\t\"booths\": boothlist.join(\",\")\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.$axios\r\n\t\t\t\t\t.axios('POST', this.$paths.boothbuybooth, data)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\tthis.$tools.showToast(\"预定成功\");\r\n\t\t\t\t\t\t\tsetTimeout(res => {\r\n\t\t\t\t\t\t\t\tthis.getYudingBooth();\r\n\t\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$tools.showToast(res.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {});\r\n\t\t\t},\r\n\r\n\t\t\t// 计算总价格\r\n\t\t\tnumAllMoney() {\r\n\t\t\t\t// selBotth:[],//选择的展位列表\r\n\t\t\t\t// selService:[],//服务列表\r\n\t\t\t\tvar selBoothDate = this.selBoothDate;\r\n\t\t\t\tvar selServiceDate = this.selServiceDate;\r\n\t\t\t\tvar money = 0;\r\n\t\t\t\tfor (var a = 0; a < selBoothDate.length; a++) {\r\n\t\t\t\t\tmoney = money + selBoothDate[a].rmbPrice;\r\n\t\t\t\t}\r\n\t\t\t\tfor (var a = 0; a < selServiceDate.length; a++) {\r\n\t\t\t\t\tmoney = money + selServiceDate[a].params.rmbPrice;\r\n\t\t\t\t}\r\n\t\t\t\tmoney = money.toFixed(2);\r\n\t\t\t\tthis.money = money;\r\n\t\t\t},\r\n\t\t\t// 删除服务\r\n\t\t\tdelService(index) {\r\n\t\t\t\tthis.selService.splice(index, 1); // 从索引 2 开始删除 1 个元素\r\n\t\t\t},\r\n\t\t\t// 服务对话框电极事件\r\n\t\t\taleretServiceClick() {\r\n\t\t\t\tthis.aleretService = !this.aleretService;\r\n\t\t\t},\r\n\t\t\t// 添加服务\r\n\t\t\tselServiceAdd(item) {\r\n\t\t\t\tvar selService = this.selService;\r\n\t\t\t\tvar isHave = false;\r\n\t\t\t\tfor (var a = 0; a < selService.length; a++) {\r\n\t\t\t\t\tif (item.id == selService[a].id) {\r\n\t\t\t\t\t\tisHave = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (isHave) {\r\n\t\t\t\t\tthis.$tools.showToast(\"请勿重复添加\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tselService.push(item);\r\n\t\t\t\tthis.selService = selService;\r\n\t\t\t\tconsole.log(\"==\", this.selService);\r\n\t\t\t\tthis.yudingfuwu(item);\r\n\t\t\t\tthis.numAllMoney();\r\n\t\t\t},\r\n\t\t\t// 获取服务列表\r\n\t\t\tstaffservicelist() {\r\n\t\t\t\tif (this.serviceInput.projectName == \"\") {\r\n\t\t\t\t\tthis.$tools.showToast(\"请输入搜索内容\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\t'pageSize': '300',\r\n\t\t\t\t\t'pageNum': '1',\r\n\t\t\t\t\t'exhId': uni.getStorageSync(\"exhId\"),\r\n\t\t\t\t\t'projectName': this.serviceInput.projectName,\r\n\t\t\t\t}\r\n\t\t\t\tthis.$axios\r\n\t\t\t\t\t.axios('GET', this.$paths.staffservicelist, data)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\tthis.fuwuList = res.rows;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$tools.showToast(res.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {});\r\n\t\t\t},\r\n\t\t\t// 获取服务的分类 \r\n\t\t\tservicecategorylist() {\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\t'pageSize': '300',\r\n\t\t\t\t\t'pageNum': '1',\r\n\t\t\t\t\t'exhId': uni.getStorageSync(\"exhId\"),\r\n\t\t\t\t}\r\n\t\t\t\tthis.$axios\r\n\t\t\t\t\t.axios('GET', this.$paths.servicecategorylist, data)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\tthis.fuwuTypeList = res.data;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$tools.showToast(res.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {});\r\n\t\t\t},\r\n\t\t\tchangeDateKuan(res, index) {\r\n\t\t\t\tthis.payPlans[index].planTime = res.detail.value;\r\n\t\t\t},\r\n\t\t\t// 添加款\r\n\t\t\taddKuan() {\r\n\t\t\t\tvar obg = {\r\n\t\t\t\t\t\"index\": 0,\r\n\t\t\t\t\t\"planName\": \"\", //备注\r\n\t\t\t\t\t\"payAmount\": \"\", //付款金额\r\n\t\t\t\t\t\"planPercent\": \"100\", //百分比\r\n\t\t\t\t\t\"planTime\": \"\", //付款时间\r\n\t\t\t\t}\r\n\t\t\t\tthis.payPlans.push(obg);\r\n\t\t\t},\r\n\t\t\t// 获取缓存用户信息\r\n\t\t\tgetuInfo() {\r\n\t\t\t\tvar userInfo = uni.getStorageSync(\"userInfo\");\r\n\t\t\t\tif (userInfo) {\r\n\t\t\t\t\tthis.form.yewuname = userInfo.nickName;\r\n\t\t\t\t\tthis.form.yewutel = userInfo.phonenumber;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tselZhangClick(zhangId) {\r\n\t\t\t\tthis.form.zhangId = zhangId;\r\n\t\t\t},\r\n\t\t\t// 获取企业电子章\r\n\t\t\tgetDianzizhang() {\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\t'pageSize': '300',\r\n\t\t\t\t\t'pageNum': '1',\r\n\t\t\t\t\t'exhibitorId': this.selqiye.exhibitorId\r\n\t\t\t\t}\r\n\t\t\t\tthis.$axios\r\n\t\t\t\t\t.axios('GET', this.$paths.seallist, data)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\tthis.zhangList = res.rows;\r\n\t\t\t\t\t\t\tif (this.zhangList.length > 0) {\r\n\t\t\t\t\t\t\t\tthis.form.zhangId = this.zhangList[a].id;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$tools.showToast(res.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {});\r\n\t\t\t},\r\n\t\t\t// 联系人信息选择改变\r\n\t\t\tlianxirenChange(res) {\r\n\t\t\t\tthis.form.contactsId = this.lianxirenList[parseInt(res.detail.value)].id;\r\n\t\t\t\tthis.form.contactsName = this.lianxirenList[parseInt(res.detail.value)].contactName;\r\n\t\t\t\tthis.form.contactsTel = this.lianxirenList[parseInt(res.detail.value)].contactPhone;\r\n\t\t\t},\r\n\t\t\t// 获取企业联系人\r\n\t\t\tgetQiyeList() {\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\t'pageSize': '300',\r\n\t\t\t\t\t'pageNum': '1',\r\n\t\t\t\t\t'exhibitorId': this.selqiye.exhibitorId\r\n\t\t\t\t}\r\n\t\t\t\tthis.$axios\r\n\t\t\t\t\t.axios('GET', this.$paths.exhibitorcontactlist, data)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\tthis.lianxirenList = res.rows;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$tools.showToast(res.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {});\r\n\t\t\t},\r\n\t\t\t// 删除已选展位号\r\n\t\t\tdelboothSel(index) {\r\n\t\t\t\tthis.selBotth.splice(index, 1); // 从索引 2 开始删除 1 个元素\r\n\r\n\t\t\t},\r\n\t\t\t// 选择展位关闭显示事件\r\n\t\t\talertBotthClick() {\r\n\t\t\t\tthis.alertBotth = !this.alertBotth;\r\n\t\t\t},\r\n\t\t\t// 添加选中展位\r\n\t\t\taddSelbotth(item) {\r\n\t\t\t\tvar selBotth = this.selBotth;\r\n\t\t\t\tvar isHava = false;\r\n\t\t\t\tfor (var a = 0; a < selBotth.length; a++) {\r\n\t\t\t\t\tif (selBotth[a].boothNo == item.boothNo) {\r\n\t\t\t\t\t\tisHava = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (isHava) {\r\n\t\t\t\t\tthis.$tools.showToast(\"请勿重复添加\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tselBotth.push(item);\r\n\t\t\t\tthis.selBotth = selBotth;\r\n\r\n\t\t\t},\r\n\t\t\t// 获取搜索展位\r\n\t\t\tgetZhanwei() {\r\n\t\t\t\tvar data = this.boothExh;\r\n\t\t\t\tif (data.boothNo == \"\") {\r\n\t\t\t\t\tthis.$tools.showToast(\"展位号不能为空\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tdata.exhId = uni.getStorageSync(\"exhId\");\r\n\t\t\t\tthis.$axios\r\n\t\t\t\t\t.axios('GET', this.$paths.boothlistnotbuy, data)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\tthis.boothList = res.rows;\r\n\t\t\t\t\t\t\tif(this.boothList.length<=0){\r\n\t\t\t\t\t\t\t\tthis.$tools.showToast(\"未查到此展位\");\r\n\t\t\t\t\t\t\t\treturn false;       \r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$tools.showToast(res.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {});\r\n\t\t\t},\r\n\t\t\t// 去签名\r\n\t\t\ttoSign(type) {\r\n\t\t\t\tthis.signType = type;\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: \"/pages1/signView/signView\"\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t@import url(addContract.css);\r\n</style>","import mod from \"-!F:\\\\idea\\\\HBuilderX.4.26.2024082213-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!F:\\\\idea\\\\HBuilderX.4.26.2024082213-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!F:\\\\idea\\\\HBuilderX.4.26.2024082213-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\idea\\\\HBuilderX.4.26.2024082213-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!F:\\\\idea\\\\HBuilderX.4.26.2024082213-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!F:\\\\idea\\\\HBuilderX.4.26.2024082213-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\idea\\\\HBuilderX.4.26.2024082213-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addContract.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!F:\\\\idea\\\\HBuilderX.4.26.2024082213-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!F:\\\\idea\\\\HBuilderX.4.26.2024082213-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!F:\\\\idea\\\\HBuilderX.4.26.2024082213-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\idea\\\\HBuilderX.4.26.2024082213-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!F:\\\\idea\\\\HBuilderX.4.26.2024082213-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!F:\\\\idea\\\\HBuilderX.4.26.2024082213-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\idea\\\\HBuilderX.4.26.2024082213-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addContract.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1730881133749\n      var cssReload = require(\"F:/idea/HBuilderX.4.26.2024082213-alpha/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}